<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Loading SAMS...</title>
<style>
  html, body {
    height: 100%;
    margin: 0;
    overflow: hidden; /* disable scrollbars */
    background: #f8f9fa;
    font-family: 'Segoe UI', sans-serif;
  }

  .loader-text {
    position: relative;
    display: inline-block;
    font-size: 4rem;
    font-weight: 700;
    color: #ccc;
    will-change: transform;
    transform-origin: center center;
    /* no zoom here â€” we'll add the zoom class after fill */
  }

  .loader-text::after {
    content: "SAMS";
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    overflow: hidden;
    white-space: nowrap;
    color: #0d6efd;
    /* run fill animation */
    animation: fillText 2s ease-in-out forwards;
  }

  /* fill effect */
  @keyframes fillText {
    0%   { width: 0; }
    100% { width: 100%; }
  }

  /* zoom effect applied by adding .zoom */
  @keyframes zoomIn {
    0% { transform: scale(1); }
    100% { transform: scale(1.5); }
  }

  .loader-text.zoom {
    animation: zoomIn 0.5s ease-in-out forwards;
  }

  /* center everything */
  .wrap {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="loader-text">SAMS</div>
  </div>

  <script>
    // Next URL from Django. Keep exact same usage you had in meta tag:
    const nextUrl = "{% url next_url %}";

    // Duration must match the fill animation (2s)
    const fillDuration = 2000; // ms
    const zoomDuration = 500;  // ms

    // After fill completes, add the zoom class
    setTimeout(() => {
      const el = document.querySelector('.loader-text');
      if (!el) return;
      el.classList.add('zoom');

      // After zoom finishes, redirect (add small buffer)
      setTimeout(() => {
        window.location.href = nextUrl;
      }, zoomDuration + 50);

    }, fillDuration);
  </script>
</body>
</html>
